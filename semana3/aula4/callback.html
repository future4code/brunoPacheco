<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Callback</title>
    <style>

        body {
            margin:0;

        }
        section {
            display:flex;
            flex-direction:row;
            justify-content: space-around;
        }
    </style>
</head>
<body>
    <section>
        <div class="cadastro">
            <h2>Adicionar despesa</h2>
            <form>
                <label>Valor</label><br>
                <input type="number" placeholder="Digite o valor" id="valor"><br>
                <select id="categoria">
                    <option value="casa">Despesas de casa</option>
                    <option value="festa">Despesas de festa</option>
                    <option value="transporte">Despesas de transporte</option>
                    <option value="alimentacao">Despesas de alimentação</option>
                    <option value="outros">Outros</option>
                </select><br>
                <textarea rows="10" cols="30" id="obs" placeholder="Se desejar, pode inserir algum comentário."></textarea>
            </form>
            <button onclick=cadastrarDespesa()>Cadastrar Despesa</button>
        </div>
        <div class="filtro">
            <h2>Filtrar despesa</h2>
            <form>
                <select id="categoriafiltro">
                    <option value="casa">Despesas de casa</option>
                    <option value="festa">Despesas de festa</option>
                    <option value="transporte">Despesas de transporte</option>
                    <option value="alimentacao">Despesas de alimentação</option>
                    <option value="outros">Outros</option>
                </select><br>
                <label>Valor máximo:</label>
                <input type="text" id="valorMaximo"><br>
                <label>Valor mínimo:</label>
                <input type="text" id="valorMinimo>">
            </form>
            <button onclick=filtrar()>Filtrar</button>
            <button onclick=limparFiltro()>Limpar Filtro</button>
            <table id="tabelaDoFiltro">
                <tr>
                    <th>Valor</th>
                    <th>Descrição</th>
                    <th>Categoria</th>
                </tr>
            </table>
        </div>
        <div class="extrato">
            <h2>Extrato</h2>
            <p id="somaDosValores"></p>
            <table id="tabelaDeExtrato">
                <tr>
                    <th>Valor</th>
                    <th>Descrição</th>
                    <th>Categoria</th>
                </tr>
            </table>
        </div>
    </section>
</body>
<script>
    //criei a classe Despesa para informar tudo o que futuras despesas terão como propriedades;
    class Despesa {
        constructor(valor, categoria, obs){
            this.valor = valor;
            this.categoria = categoria;
            this.obs = obs;
        }
    }
    //array com o nome tabelaDeDespesa;
    let tabelaDeDespesa = [];
    //Nessa função eu estou adicionando uma nova despesa e chamando a função inserirNoExtrato;
    function cadastrarDespesa()  {
        let valor = document.querySelector("#valor").value;
        let categoria = document.querySelector("#categoria").value;
        let obs = document.querySelector("#obs").value;
        let novaDespesa = new Despesa(valor, categoria, obs);
        tabelaDeDespesa.push(novaDespesa);
        if (valor !== "" && obs !== "" || valor !== "") {
            document.querySelector("#valor").value = "";
            document.querySelector("#obs").value = "";
            return inserirTabela();   
        } 
        else {
            alert("Por favor, preencha o Valor se deseja inserir!")
        }
    }
    //criei uma constante que irá coletar tudo o que tem na tabelaDeExtrato e armazenar na mesma;
    const tabelaDoExtrato = document.querySelector("#tabelaDeExtrato");  

    const tabelaDoFiltro = document.querySelector("#tabelaDoFiltro");
    /*function criada para inserir as despesas no extrato. Dentro, criei uma constante chamada ultimaDespesa.
    Ela receberá a partir da array tabelaDeDespesa uma posição que será a mesma tabelaDeDespesa total menos 1*/
    function inserirTabela() {
        const ultimaDespesa = tabelaDeDespesa[tabelaDeDespesa.length -1]
        tabelaDoExtrato.innerHTML += "<tr>" + "<td>" + ultimaDespesa.valor + "</td>" +  "<td>" + ultimaDespesa.categoria + "</td>" + "<td>" + ultimaDespesa.obs + "</td>" + "</tr>";
        tabelaDoFiltro.innerHTML += "<tr>" + "<td>" + ultimaDespesa.valor + "</td>" +  "<td>" + ultimaDespesa.categoria + "</td>" + "<td>" + ultimaDespesa.obs + "</td>" + "</tr>";
    }
    
    
    //
    function filtrar() {

    }

    //
    function limparFiltro() {

    }
</script>
</html>